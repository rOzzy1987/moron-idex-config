######################################################################
# MKS Mini 12864Panel v3.x (with neopixel backlight leds)
######################################################################
[mcu mksd]
serial: /dev/serial/by-id/usb-Klipper_rp2040_4250304830333703-if00

# [spi_bus]


[display]
lcd_type: uc1701
cs_pin: mksd:gpio5
a0_pin: mksd:gpio13
rst_pin: mksd:gpio12
contrast: 63
encoder_pins: ^!mksd:gpio19, ^mksd:gpio20
click_pin: ^!mksd:gpio18
## Some micro-controller boards may require an spi bus to be specified:
#spi_bus: spi
## Alternatively, some micro-controller boards may work with software spi:
spi_software_miso_pin: mksd:gpio4
spi_software_mosi_pin: mksd:gpio3
spi_software_sclk_pin: mksd:gpio2
kill_pin: ^!mksd:gpio21

[output_pin beeper]
pin: mksd:gpio22

[neopixel mksd_led]
pin: mksd:gpio11
chain_count: 3
color_order: RGB
initial_RED: 1.0
initial_GREEN: 1.0
initial_BLUE: 1.0


[delayed_gcode _moron_mksd_led_setup]
initial_duration: 1
gcode:
  SET_LED LED=mksd_led RED=1 GREEN=0.66 BLUE=0 INDEX=1 TRANSMIT=0
  SET_LED LED=mksd_led RED=0.2 GREEN=0.15 BLUE=0 INDEX=2 TRANSMIT=0
  SET_LED LED=mksd_led RED=0.2 GREEN=0.15 BLUE=0 INDEX=3